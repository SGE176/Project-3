{"ast":null,"code":"import _toConsumableArray from\"/Users/sijiage/Desktop/WESTCLIFF/Project 3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/sijiage/Desktop/WESTCLIFF/Project 3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Header from\"./../components/Header\";import Rating from\"../components/homeComponents/Rating\";import{Link}from\"react-router-dom\";import Message from\"./../components/LoadingError/Error\";import{useDispatch,useSelector}from\"react-redux\";import{createProductReview,listProductDetails}from\"../Redux/Actions/ProductActions\";import Loading from\"../components/LoadingError/Loading\";import{PRODUCT_CREATE_REVIEW_RESET}from\"../Redux/Constants/ProductConstants\";import moment from\"moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SingleProduct=function SingleProduct(_ref){var history=_ref.history,match=_ref.match;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setRating=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),comment=_useState6[0],setComment=_useState6[1];var productId=match.params.id;var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var productReviewCreate=useSelector(function(state){return state.productReviewCreate;});var loadingCreateReview=productReviewCreate.loading,errorCreateReview=productReviewCreate.error,successCreateReview=productReviewCreate.success;useEffect(function(){if(successCreateReview){alert(\"Review Submitted\");setRating(0);setComment(\"\");dispatch({type:PRODUCT_CREATE_REVIEW_RESET});}dispatch(listProductDetails(productId));},[dispatch,productId,successCreateReview]);var AddToCartHandle=function AddToCartHandle(e){e.preventDefault();history.push(\"/cart/\".concat(productId,\"?qty=\").concat(qty));};var submitHandler=function submitHandler(e){e.preventDefault();dispatch(createProductReview(productId,{rating:rating,comment:comment}));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container single-product\",children:loading?/*#__PURE__*/_jsx(Loading,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"alert-danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"single-image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-dtl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-info\",children:/*#__PURE__*/_jsx(\"div\",{className:\"product-name\",children:product.name})}),/*#__PURE__*/_jsx(\"p\",{children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-count col-lg-7 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-box d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Price\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",product.price]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-box d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Status\"}),product.countInStock>0?/*#__PURE__*/_jsx(\"span\",{children:\"In Stock\"}):/*#__PURE__*/_jsx(\"span\",{children:\"unavailable\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-box d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Reviews\"}),/*#__PURE__*/_jsx(Rating,{value:product.rating,text:\"\".concat(product.numReviews,\" reviews\")})]}),product.countInStock>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-box d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:AddToCartHandle,className:\"round-black-btn\",children:\"Add To Cart\"})]}):null]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row my-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-3\",children:\"REVIEWS\"}),product.reviews.length===0&&/*#__PURE__*/_jsx(Message,{variant:\"alert-info mt-3\",children:\"No Reviews\"}),product.reviews.map(function(review){return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5 mb-md-3 bg-light p-3 shadow-sm rounded\",children:[/*#__PURE__*/_jsx(\"strong\",{children:review.name}),/*#__PURE__*/_jsx(Rating,{value:review.rating}),/*#__PURE__*/_jsx(\"span\",{children:moment(review.createdAt).calendar()}),/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info mt-3\",children:review.comment})]},review._id);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"WRITE A CUSTOMER REVIEW\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-4\",children:[loadingCreateReview&&/*#__PURE__*/_jsx(Loading,{}),errorCreateReview&&/*#__PURE__*/_jsx(Message,{variant:\"alert-danger\",children:errorCreateReview})]}),userInfo?/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"my-4\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Rating\"}),/*#__PURE__*/_jsxs(\"select\",{value:rating,onChange:function onChange(e){return setRating(e.target.value);},className:\"col-12 bg-light p-3 mt-2 border-0 rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1 - Poor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2 - Fair\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3 - Good\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4 - Very Good\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5 - Excellent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-4\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Comment\"}),/*#__PURE__*/_jsx(\"textarea\",{row:\"3\",value:comment,onChange:function onChange(e){return setComment(e.target.value);},className:\"col-12 bg-light p-3 mt-2 border-0 rounded\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"my-3\",children:/*#__PURE__*/_jsx(\"button\",{disabled:loadingCreateReview,className:\"col-12 bg-black border-0 p-3 rounded text-white\",children:\"SUBMIT\"})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"my-3\",children:/*#__PURE__*/_jsxs(Message,{variant:\"alert-warning\",children:[\"Please\",\" \",/*#__PURE__*/_jsxs(Link,{to:\"/login\",children:[\"\\\" \",/*#__PURE__*/_jsx(\"strong\",{children:\"Login\"}),\" \\\"\"]}),\" \",\"to write a review\",\" \"]})})]})]})]})})]});};export default SingleProduct;","map":{"version":3,"sources":["/Users/sijiage/Desktop/WESTCLIFF/Project 3/src/screens/SingleProduct.js"],"names":["React","useEffect","useState","Header","Rating","Link","Message","useDispatch","useSelector","createProductReview","listProductDetails","Loading","PRODUCT_CREATE_REVIEW_RESET","moment","SingleProduct","history","match","qty","setQty","rating","setRating","comment","setComment","productId","params","id","dispatch","productDetails","state","loading","error","product","userLogin","userInfo","productReviewCreate","loadingCreateReview","errorCreateReview","successCreateReview","success","alert","type","AddToCartHandle","e","preventDefault","push","submitHandler","image","name","description","price","countInStock","numReviews","target","value","Array","keys","map","x","reviews","length","review","createdAt","calendar","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Header from \"./../components/Header\";\r\nimport Rating from \"../components/homeComponents/Rating\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Message from \"./../components/LoadingError/Error\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  createProductReview,\r\n  listProductDetails,\r\n} from \"../Redux/Actions/ProductActions\";\r\nimport Loading from \"../components/LoadingError/Loading\";\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from \"../Redux/Constants/ProductConstants\";\r\nimport moment from \"moment\";\r\n\r\nconst SingleProduct = ({ history, match }) => {\r\n  const [qty, setQty] = useState(1);\r\n  const [rating, setRating] = useState(0);\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  const productId = match.params.id;\r\n  const dispatch = useDispatch();\r\n\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { loading, error, product } = productDetails;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n  const productReviewCreate = useSelector((state) => state.productReviewCreate);\r\n  const {\r\n    loading: loadingCreateReview,\r\n    error: errorCreateReview,\r\n    success: successCreateReview,\r\n  } = productReviewCreate;\r\n\r\n  useEffect(() => {\r\n    if (successCreateReview) {\r\n      alert(\"Review Submitted\");\r\n      setRating(0);\r\n      setComment(\"\");\r\n      dispatch({ type: PRODUCT_CREATE_REVIEW_RESET });\r\n    }\r\n    dispatch(listProductDetails(productId));\r\n  }, [dispatch, productId, successCreateReview]);\r\n\r\n  const AddToCartHandle = (e) => {\r\n    e.preventDefault();\r\n    history.push(`/cart/${productId}?qty=${qty}`);\r\n  };\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(\r\n      createProductReview(productId, {\r\n        rating,\r\n        comment,\r\n      })\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"container single-product\">\r\n        {loading ? (\r\n          <Loading />\r\n        ) : error ? (\r\n          <Message variant=\"alert-danger\">{error}</Message>\r\n        ) : (\r\n          <>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">\r\n                <div className=\"single-image\">\r\n                  <img src={product.image} alt={product.name} />\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <div className=\"product-dtl\">\r\n                  <div className=\"product-info\">\r\n                    <div className=\"product-name\">{product.name}</div>\r\n                  </div>\r\n                  <p>{product.description}</p>\r\n\r\n                  <div className=\"product-count col-lg-7 \">\r\n                    <div className=\"flex-box d-flex justify-content-between align-items-center\">\r\n                      <h6>Price</h6>\r\n                      <span>${product.price}</span>\r\n                    </div>\r\n                    <div className=\"flex-box d-flex justify-content-between align-items-center\">\r\n                      <h6>Status</h6>\r\n                      {product.countInStock > 0 ? (\r\n                        <span>In Stock</span>\r\n                      ) : (\r\n                        <span>unavailable</span>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex-box d-flex justify-content-between align-items-center\">\r\n                      <h6>Reviews</h6>\r\n                      <Rating\r\n                        value={product.rating}\r\n                        text={`${product.numReviews} reviews`}\r\n                      />\r\n                    </div>\r\n                    {product.countInStock > 0 ? (\r\n                      <>\r\n                        <div className=\"flex-box d-flex justify-content-between align-items-center\">\r\n                          <h6>Quantity</h6>\r\n                          <select\r\n                            value={qty}\r\n                            onChange={(e) => setQty(e.target.value)}\r\n                          >\r\n                            {[...Array(product.countInStock).keys()].map(\r\n                              (x) => (\r\n                                <option key={x + 1} value={x + 1}>\r\n                                  {x + 1}\r\n                                </option>\r\n                              )\r\n                            )}\r\n                          </select>\r\n                        </div>\r\n                        <button\r\n                          onClick={AddToCartHandle}\r\n                          className=\"round-black-btn\"\r\n                        >\r\n                          Add To Cart\r\n                        </button>\r\n                      </>\r\n                    ) : null}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* RATING */}\r\n            <div className=\"row my-5\">\r\n              <div className=\"col-md-6\">\r\n                <h6 className=\"mb-3\">REVIEWS</h6>\r\n                {product.reviews.length === 0 && (\r\n                  <Message variant={\"alert-info mt-3\"}>No Reviews</Message>\r\n                )}\r\n                {product.reviews.map((review) => (\r\n                  <div\r\n                    key={review._id}\r\n                    className=\"mb-5 mb-md-3 bg-light p-3 shadow-sm rounded\"\r\n                  >\r\n                    <strong>{review.name}</strong>\r\n                    <Rating value={review.rating} />\r\n                    <span>{moment(review.createdAt).calendar()}</span>\r\n                    <div className=\"alert alert-info mt-3\">\r\n                      {review.comment}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <h6>WRITE A CUSTOMER REVIEW</h6>\r\n                <div className=\"my-4\">\r\n                  {loadingCreateReview && <Loading />}\r\n                  {errorCreateReview && (\r\n                    <Message variant=\"alert-danger\">\r\n                      {errorCreateReview}\r\n                    </Message>\r\n                  )}\r\n                </div>\r\n                {userInfo ? (\r\n                  <form onSubmit={submitHandler}>\r\n                    <div className=\"my-4\">\r\n                      <strong>Rating</strong>\r\n                      <select\r\n                        value={rating}\r\n                        onChange={(e) => setRating(e.target.value)}\r\n                        className=\"col-12 bg-light p-3 mt-2 border-0 rounded\"\r\n                      >\r\n                        <option value=\"\">Select...</option>\r\n                        <option value=\"1\">1 - Poor</option>\r\n                        <option value=\"2\">2 - Fair</option>\r\n                        <option value=\"3\">3 - Good</option>\r\n                        <option value=\"4\">4 - Very Good</option>\r\n                        <option value=\"5\">5 - Excellent</option>\r\n                      </select>\r\n                    </div>\r\n                    <div className=\"my-4\">\r\n                      <strong>Comment</strong>\r\n                      <textarea\r\n                        row=\"3\"\r\n                        value={comment}\r\n                        onChange={(e) => setComment(e.target.value)}\r\n                        className=\"col-12 bg-light p-3 mt-2 border-0 rounded\"\r\n                      ></textarea>\r\n                    </div>\r\n                    <div className=\"my-3\">\r\n                      <button\r\n                        disabled={loadingCreateReview}\r\n                        className=\"col-12 bg-black border-0 p-3 rounded text-white\"\r\n                      >\r\n                        SUBMIT\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                ) : (\r\n                  <div className=\"my-3\">\r\n                    <Message variant={\"alert-warning\"}>\r\n                      Please{\" \"}\r\n                      <Link to=\"/login\">\r\n                        \" <strong>Login</strong> \"\r\n                      </Link>{\" \"}\r\n                      to write a review{\" \"}\r\n                    </Message>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SingleProduct;\r\n"]},"metadata":{},"sourceType":"module"}